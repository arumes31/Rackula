# octocov configuration
# See: https://github.com/k1LoW/octocov

# Coverage reporting from vitest LCOV output
# Badges are generated as shields.io endpoint JSON files by the workflow
coverage:
  paths:
    - coverage/lcov.info
  acceptable: current >= 70%

# Code to test ratio
# Measures lines of source code vs test code
codeToTestRatio:
  code:
    - "src/lib/**/*.ts"
    - "src/lib/**/*.svelte"
    - "!src/lib/**/*.test.ts"
    - "!src/lib/**/*.spec.ts"
  test:
    - "src/**/*.test.ts"
    - "src/**/*.spec.ts"
    - "tests/**/*.ts"
  acceptable: current >= 0.5

# Test execution time (GitHub Actions only)
testExecutionTime:
  acceptable: current <= 300sec

# PR comment configuration
comment:
  hideFooterLink: false
  deletePrevious: true
  if: is_pull_request
  message: |
    *One coverage percentage! Two code-to-test ratio! Three execution time! Ah ah ah!*

# Summary for GitHub Actions Job Summary
summary:
  if: true

# Store reports for diff comparison
report:
  datastores:
    - artifact://${GITHUB_REPOSITORY}

# Compare against previous reports
diff:
  datastores:
    - artifact://${GITHUB_REPOSITORY}
  if: is_pull_request
